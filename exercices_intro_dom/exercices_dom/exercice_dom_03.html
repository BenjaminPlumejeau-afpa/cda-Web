<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercice : Création et suppression d'éléments</title>
    <script type="module">
        const listeTaches = document.getElementById('liste-taches');
        const inputNouvelleTache = document.getElementById('nouvelle-tache');
        const boutonAjouter = document.getElementById('ajouter-tache');

        // 1. Créez une fonction pour ajouter une nouvelle tâche
        function ajouterTache() {
            // Créez un nouvel élément <li>
            const nouvelleTache = document.createElement("li");
            // Ajoutez le texte de l'input comme contenu du <li>
            const contenuTache = document.createTextNode(inputNouvelleTache.value);
            nouvelleTache.appendChild(contenuTache);
            // Ajoutez le <li> à la liste
            listeTaches.appendChild(nouvelleTache);
            // Videz l'input après l'ajout
            inputNouvelleTache.value = "";
        }

        // 2. Ajoutez un écouteur d'événements au bouton pour appeler ajouterTache()
        boutonAjouter.addEventListener("click", (event) => { ajouterTache() });

        // 3. Créez une fonction pour supprimer une tâche lorsqu'on clique dessus
        function supprimerTache(event) {
            // Vérifiez si l'élément cliqué est un <li>
            // Si oui, supprimez-le de la liste
            console.log(event.nodeName);
            if (event.nodeName === "li") {
                listeTaches.removeChild(event);
            }
        }

        // 4. Ajoutez un écouteur d'événements à la liste pour gérer la suppression
        listeTaches.children.addEventListener("click", (event)=>{supprimerTache()});
    </script>
</head>

<body>
    <h1>Liste de tâches</h1>
    <ul id="liste-taches">
        <li>Tâche 1</li>
        <li>Tâche 2</li>
    </ul>
    <input type="text" id="nouvelle-tache" placeholder="Nouvelle tâche">
    <button id="ajouter-tache">Ajouter</button>
</body>

</html>